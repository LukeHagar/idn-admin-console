import{s as lt,f as h,a as R,l as H,g as b,h as S,d as D,c as N,S as tt,m as O,j as e,i as st,A as a,J as C,u as F,B as ot,D as it,v as j}from"../chunks/scheduler.10bc074a.js";import{S as ct,i as ut,b as pt,d as mt,m as dt,a as ft,t as ht,e as bt}from"../chunks/index.7b3d626a.js";import{p as vt}from"../chunks/parse.bee59afc.js";import{j as _t}from"../chunks/singletons.47bc9baa.js";import{i as gt}from"../chunks/navigation.ad74cec2.js";import{l as V}from"../chunks/ProgressBar.svelte_svelte_type_style_lang.ae9fcbec.js";import{L as yt}from"../chunks/LightSwitch.9a354e21.js";const Lt=!0,Et=Lt;function wt(t){return _t.apply_action(t)}function At(t){const r=JSON.parse(t);return r.data&&(r.data=vt(r.data)),r}function rt(t){return HTMLElement.prototype.cloneNode.call(t)}function Tt(t,r=()=>{}){const v=async({action:n,result:s,reset:_=!0,invalidateAll:m=!0})=>{s.type==="success"&&(_&&HTMLFormElement.prototype.reset.call(t),m&&await gt()),(location.origin+location.pathname===n.origin+n.pathname||s.type==="redirect"||s.type==="error")&&wt(s)};async function c(n){var I,f,p,E;if(((I=n.submitter)!=null&&I.hasAttribute("formmethod")?n.submitter.formMethod:rt(t).method)!=="post")return;n.preventDefault();const _=new URL((f=n.submitter)!=null&&f.hasAttribute("formaction")?n.submitter.formAction:rt(t).action),m=new FormData(t),d=(p=n.submitter)==null?void 0:p.getAttribute("name");d&&m.append(d,((E=n.submitter)==null?void 0:E.getAttribute("value"))??"");const g=new AbortController;let L=!1;const l=await r({action:_,cancel:()=>L=!0,controller:g,get data(){return m},formData:m,get form(){return t},formElement:t,submitter:n.submitter})??v;if(L)return;let u;try{const o=await fetch(_,{method:"POST",headers:{accept:"application/json","x-sveltekit-action":"true"},cache:"no-store",body:m,signal:g.signal});u=At(await o.text()),u.type==="error"&&(u.status=o.status)}catch(o){if((o==null?void 0:o.name)==="AbortError")return;u={type:"error",error:o}}l({action:_,get data(){return m},formData:m,get form(){return t},formElement:t,update:o=>v({action:_,result:u,reset:o==null?void 0:o.reset,invalidateAll:o==null?void 0:o.invalidateAll}),result:u})}return HTMLFormElement.prototype.addEventListener.call(t,"submit",c),{destroy(){HTMLFormElement.prototype.removeEventListener.call(t,"submit",c)}}}function Ut(t){let r,v,c,n,s,_='<img class="h-12 min-w-[590px]" src="/SailPoint-Developer-Community-Lockup.png" alt="sailPoint Logo"/>',m,d,g,L="Enter your tenant information to continue",$,l,u,I,f,p,E,o,w,z,M,J,A,q,B,W,T,G,P,et="Login",k,K,at;return c=new yt({}),{c(){r=h("main"),v=h("div"),pt(c.$$.fragment),n=R(),s=h("div"),s.innerHTML=_,m=R(),d=h("div"),g=h("div"),g.textContent=L,$=R(),l=h("form"),u=h("label"),I=H(`Tenant\r
				`),f=h("input"),p=R(),E=h("label"),o=H(`Domain\r
				`),w=h("input"),z=R(),M=h("label"),J=H(`API Base URL\r
				`),A=h("input"),q=R(),B=h("label"),W=H(`Tenant URL\r
				`),T=h("input"),G=R(),P=h("button"),P.textContent=et,this.h()},l(i){r=b(i,"MAIN",{class:!0});var y=S(r);v=b(y,"DIV",{class:!0});var nt=S(v);mt(c.$$.fragment,nt),nt.forEach(D),n=N(y),s=b(y,"DIV",{class:!0,"data-svelte-h":!0}),tt(s)!=="svelte-ldyvpw"&&(s.innerHTML=_),m=N(y),d=b(y,"DIV",{class:!0});var x=S(d);g=b(x,"DIV",{class:!0,"data-svelte-h":!0}),tt(g)!=="svelte-mv3ikv"&&(g.textContent=L),$=N(x),l=b(x,"FORM",{method:!0,class:!0});var U=S(l);u=b(U,"LABEL",{class:!0});var Q=S(u);I=O(Q,`Tenant\r
				`),f=b(Q,"INPUT",{name:!0,placeholder:!0,class:!0}),Q.forEach(D),p=N(U),E=b(U,"LABEL",{class:!0});var X=S(E);o=O(X,`Domain\r
				`),w=b(X,"INPUT",{name:!0,placeholder:!0,class:!0}),X.forEach(D),z=N(U),M=b(U,"LABEL",{class:!0});var Y=S(M);J=O(Y,`API Base URL\r
				`),A=b(Y,"INPUT",{name:!0,placeholder:!0,class:!0}),Y.forEach(D),q=N(U),B=b(U,"LABEL",{class:!0});var Z=S(B);W=O(Z,`Tenant URL\r
				`),T=b(Z,"INPUT",{name:!0,placeholder:!0,class:!0}),Z.forEach(D),G=N(U),P=b(U,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),tt(P)!=="svelte-1nbmpzg"&&(P.textContent=et),U.forEach(D),x.forEach(D),y.forEach(D),this.h()},h(){e(v,"class","absolute top-2 right-2"),e(s,"class","flex flex-row justify-center"),e(g,"class","text-2xl text-center py-2"),e(f,"name","tenant"),e(f,"placeholder","tenant"),e(f,"class","input p-2"),e(u,"class",""),e(w,"name","domain"),e(w,"placeholder","identitynow"),e(w,"class","input p-2"),e(E,"class",""),e(A,"name","baseUrl"),e(A,"placeholder",`https://${t[4]}.api.${t[5]}.com`),e(A,"class","input p-2"),e(M,"class",""),e(T,"name","tenantUrl"),e(T,"placeholder",`https://${t[4]}.identitynow.com`),e(T,"class","input p-2"),e(B,"class",""),e(P,"type","submit"),e(P,"class","btn variant-filled-primary w-full mt-2 !text-white text-lg"),e(l,"method","POST"),e(l,"class","flex flex-col gap-4"),e(d,"class",""),e(r,"class","p-32 relative h-full")},m(i,y){st(i,r,y),a(r,v),dt(c,v,null),a(r,n),a(r,s),a(r,m),a(r,d),a(d,g),a(d,$),a(d,l),a(l,u),a(u,I),a(u,f),C(f,t[1]),a(l,p),a(l,E),a(E,o),a(E,w),C(w,t[0]),a(l,z),a(l,M),a(M,J),a(M,A),C(A,t[2]),a(l,q),a(l,B),a(B,W),a(B,T),C(T,t[3]),a(l,G),a(l,P),k=!0,K||(at=[F(f,"input",t[8]),F(w,"input",t[9]),F(A,"input",t[10]),F(T,"input",t[11]),ot(Tt.call(null,l))],K=!0)},p(i,[y]){y&2&&f.value!==i[1]&&C(f,i[1]),y&1&&w.value!==i[0]&&C(w,i[0]),y&4&&A.value!==i[2]&&C(A,i[2]),y&8&&T.value!==i[3]&&C(T,i[3])},i(i){k||(ft(c.$$.fragment,i),k=!0)},o(i){ht(c.$$.fragment,i),k=!1},d(i){i&&D(r),bt(c),K=!1,it(at)}}}function $t(t,r,v){let c,n,s,_,m;window.electron&&Et&&window.electron.receive("from-main",p=>{m=`Received Message "${p}" from Electron`,console.log(m)});const d=V("tenant","tenant");j(t,d,p=>v(1,n=p));const g=V("domain","identitynow");j(t,g,p=>v(0,c=p));const L=V("baseUrl","https://${tenant}.api.${domain}.com");j(t,L,p=>v(2,s=p));const $=V("tenantUrl","https://${tenant}.${domain}.com");j(t,$,p=>v(3,_=p));function l(){n=this.value,d.set(n)}function u(){c=this.value,g.set(c)}function I(){s=this.value,L.set(s)}function f(){_=this.value,$.set(_)}return t.$$.update=()=>{t.$$.dirty&3&&L.set(`https://${n}.api.${c}.com`),t.$$.dirty&3&&$.set(`https://${n}.${c}.com`)},[c,n,s,_,d,g,L,$,l,u,I,f]}class Rt extends ct{constructor(r){super(),ut(this,r,$t,Ut,lt,{})}}export{Rt as component};
